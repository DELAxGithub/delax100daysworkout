# Delax 100 Days Workout - プロジェクト概要書

## 1. プロジェクトの全体像・目的

### 1.1 コアの価値
**「提案してくれて、タップで記録」** - AIがユーザーの状態とパフォーマンスを分析し、その日に最適なトレーニングを提案。ユーザーはワンタップで記録できる、継続しやすいフィットネスアプリ。

- サイクリング、筋トレ、柔軟性の3種類のトレーニングを統合管理
- パーソナライズされた日々のトレーニング提案
- 最小限の操作で記録を継続できるUX

### 1.2 最も重要視するKPI／成果指標
1. **継続率（7日/30日/100日）** - プライマリKPI
2. **週間アクティブユーザー数（WAU）**
3. **タスク完了率** - 提案されたタスクの実施率
4. **記録所要時間** - ワンタップ記録の効率性

## 2. 機能・要件の棚卸し

### 2.1 必須機能（MUST）
1. **今日のタスク表示・記録**
   - AIによる日次トレーニング提案
   - ワンタップ完了記録
   - オプション詳細入力

2. **週次テンプレート管理**
   - デフォルトトレーニングスケジュール
   - 柔軟なタスク調整機能

3. **進捗トラッキング**
   - PR（Personal Record）検出
   - ストリーク管理
   - 週次レポート生成

4. **バグ報告・自動修正**
   - シェイクジェスチャーによるバグ報告
   - GitHub Issue自動作成
   - Claude AIによる自動修正提案

### 2.2 あると嬉しい機能（WANT）
1. **ダッシュボード強化**
   - 3種類のトレーニング進捗の統合表示
   - 目標達成率の視覚化

2. **通知機能**
   - トレーニングリマインダー
   - モチベーショナルメッセージ

3. **データエクスポート**
   - CSV/PDFレポート出力
   - Apple Health連携

### 2.3 将来的に検討機能（COULD）
1. **ソーシャル機能**
   - 進捗の共有
   - フレンド機能
   - チャレンジ機能

2. **AI提案の高度化**
   - 天候連携
   - 睡眠データ連携
   - より個人に最適化された提案

3. **有料プラン**
   - プロコーチのテンプレート
   - 詳細分析機能
   - 無制限履歴保存

### 2.4 具体的な業務フロー

#### 日次トレーニング記録フロー
1. アプリ起動 → TodayView表示
2. 本日のタスク確認（AI提案済み）
3. トレーニング実施
4. 「やった」ボタンタップ
5. （オプション）詳細入力モーダル表示
6. 保存 → 進捗更新

#### バグ報告フロー
1. 問題発生
2. デバイスをシェイク
3. バグ報告画面表示
4. カテゴリ選択・説明入力
5. 送信 → GitHub Issue作成
6. 自動分析・修正（バックグラウンド）

## 3. 共通要素・再利用性の把握

### 3.1 UIパターン
- **カード型UI**: TaskCardView（他の記録系アプリで再利用可能）
- **プログレスサークル**: ProgressCircleView（汎用的な進捗表示）
- **モーダルシート**: QuickRecordSheet（詳細入力パターン）
- **トースト通知**: 汎用フィードバックコンポーネント

### 3.2 データモデル
- **基本エンティティ**:
  - WorkoutRecord（記録の基底クラス）
  - WeeklyTemplate（スケジュール管理）
  - Achievement（実績管理）
- **共通化可能**:
  - ユーザープロファイル
  - 通知設定
  - データ同期機構

### 3.3 バックエンド／サードパーティ連携
- **GitHub API**: Issue管理（他のフィードバックシステムで再利用可能）
- **Claude AI API**: 自動分析・提案（他のAI機能で活用可能）
- **（将来）Apple HealthKit**: フィットネスデータ連携
- **（将来）Weather API**: 天候連動提案

## 4. 技術スタック・非機能要件

### 4.1 使用技術
- **フロントエンド**: SwiftUI（iOS 17+）
- **データ永続化**: SwiftData
- **アーキテクチャ**: MVVM
- **CI/CD**: GitHub Actions
- **AI**: Claude API（Anthropic）
- **自動化**: Python（スクリプト）

### 4.2 非機能要件
- **パフォーマンス**:
  - アプリ起動: 2秒以内
  - 画面遷移: 200ms以内
  - データ保存: 100ms以内
- **セキュリティ**:
  - APIキーの安全な管理（Xcodeスキーム／GitHub Secrets）
  - ユーザーデータの暗号化
  - プライバシーポリシー準拠

## 5. 開発体制・スケジュール

### 5.1 リリース優先度
- **Phase 1（完了）**: コア機能実装 ✅
- **Phase 2（進行中）**: 自動バグ修正機能 🚧
- **Phase 3（B: 今四半期）**: ダッシュボード強化、通知機能
- **Phase 4（C: 来年以降）**: ソーシャル機能、有料プラン

### 5.2 マイルストーン
1. **2024年7月**: 基本機能リリース ✅
2. **2024年8月**: 自動バグ修正機能の本番運用
3. **2024年9月**: Apple Health連携
4. **2024年10月**: v2.0（通知機能込み）リリース

### 5.3 リソース計画
- **現在**: 1名（フルスタック開発）
- **将来的な体制**:
  - iOS開発: 1名
  - バックエンド: 0.5名（API拡張時）
  - QA: 0.5名（リリース前）
  - デザイン: 必要に応じて

## 6. 保守・拡張性

### 6.1 機能追加・改修頻度
- **定期アップデート**: 2週間スプリント
- **バグ修正**: 自動修正システムで即時対応
- **大型機能追加**: 四半期ごと

### 6.2 テスト方針
- **Unit Test**: SwiftDataモデル、ViewModelのロジック
- **UI Test**: 主要な画面遷移、記録フロー
- **自動バグ修正のバリデーション**: Pythonスクリプトによる安全性チェック
- **GitHub Actions**: PR時の自動テスト実行

### 6.3 コード品質管理
- **SwiftLint**: コードスタイル統一
- **PR必須レビュー**: 自動生成されたPRも人間がレビュー
- **ドキュメント**: spec-driven developmentによる要件管理

## 7. 拡張性の考慮事項

### 7.1 多プロジェクト展開時の共通化候補
1. **UIコンポーネントライブラリ**
   - カード、プログレス、モーダルなどの汎用コンポーネント
   
2. **AI統合フレームワーク**
   - Claude API wrapper
   - 自動分析・提案システム
   
3. **GitHub連携モジュール**
   - Issue作成、PR管理
   - 自動修正ワークフロー

### 7.2 国際化対応
- 現在: 日本語のみ
- 将来: 英語対応を検討（Localizationファイル準備）

### 7.3 プラットフォーム展開
- 現在: iOS専用
- 将来検討: 
  - iPad対応（画面サイズ最適化）
  - watchOS（簡易記録）
  - Web版（閲覧専用）